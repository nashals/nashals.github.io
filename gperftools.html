<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head><!-- <meta name="baidu-site-verification" content="707024a76f8f40b549f07f478abab237"/> -->
<title>gperftools</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="title" content="gperftools"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2014-09-18T11:21+0800"/>
<meta name="author" content="dirtysalt"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style><link rel="shortcut icon" href="css/favicon.ico" /> <link rel="stylesheet" type="text/css" href="css/site.css" />


</head>
<body><!-- <div id="bdshare" class="bdshare_t bds_tools_32 get-codes-bdshare"><a class="bds_tsina"></a><span class="bds_more"></span><a class="shareCount"></a></div> --><!-- Place this tag where you want the +1 button to render --><!-- <g:plusone annotation="inline"></g:plusone> -->

<div id="preamble">

</div>

<div id="content">
<h1 class="title">gperftools</h1>


<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="gperftools.html#sec-1">1 gperftools</a>
<ul>
<li><a href="gperftools.html#sec-1-1">1.1 tcmalloc</a></li>
<li><a href="gperftools.html#sec-1-2">1.2 heap checker</a></li>
<li><a href="gperftools.html#sec-1-3">1.3 heap profiler</a></li>
<li><a href="gperftools.html#sec-1-4">1.4 cpu profiler</a></li>
<li><a href="gperftools.html#sec-1-5">1.5 google pprof</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> gperftools</h2>
<div class="outline-text-2" id="text-1">

<ul>
<li><a href="https://code.google.com/p/gperftools">https://code.google.com/p/gperftools</a>
</li>
</ul>



</div>

<div id="outline-container-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> tcmalloc</h3>
<div class="outline-text-3" id="text-1-1">

<p>see <a href="tcmalloc.html">TCMalloc</a>
</p>
</div>

</div>

<div id="outline-container-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> heap checker</h3>
<div class="outline-text-3" id="text-1-2">

<p><a href="http://gperftools.googlecode.com/svn/trunk/doc/heap_checker.html">http://gperftools.googlecode.com/svn/trunk/doc/heap_checker.html</a>
</p>
<p>
这个组件是用来检查内存泄漏的，<a href="sanitizer.html">这里</a> 还有一个google的组件也是做类似事情。
</p>
<p>
note(dirlt): 没有继续研究下去. 因为没有成功运行测试程序。并且程序最后还一直hang着不退出。
</p>


<pre class="example">➜  ~  g++ main.cc -ltcmalloc_and_profiler
➜  ~  HEAPCHECK=normal ./a.out
WARNING: Perftools heap leak checker is active -- Performance may suffer
(nil), -1243309312
Check failed: !do_main_heap_check: should have done it
</pre>


</div>

</div>

<div id="outline-container-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> heap profiler</h3>
<div class="outline-text-3" id="text-1-3">

<p><a href="http://gperftools.googlecode.com/svn/trunk/doc/heapprofile.html">http://gperftools.googlecode.com/svn/trunk/doc/heapprofile.html</a>
</p>
<p>
This is the heap profiler we use at Google, to explore how C++ programs manage memory. This facility can be useful for
</p><ul>
<li>Figuring out what is in the program heap at any given time
</li>
<li>Locating memory leaks
</li>
<li>Finding places that do a lot of allocation
</li>
</ul>

<p>The profiling system instruments all allocations and frees. It keeps track of various pieces of information per allocation site. An allocation site is defined as the active stack trace at the call to malloc, calloc, realloc, or, new.（定位程序在哪些地方分配了内存以及分配多少内存，当然也可以用作检测内存泄漏）
</p>
<p>
有两种调用方式：
</p><ul>
<li>环境变量 HEAPPROFILE=&lt;profile-path&gt; ./a.out
</li>
<li>函数API functions in &lt;gperftools/heap-profiler.h&gt; (HeapProfilerStart, HeapProfilerStop etc)
</li>
</ul>

<p>下面是一些控制行为的环境变量. 分配量超过某个阈值/使用量超过某个阈值/定时器都会触发dump. 
</p><table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup><col class="left" /><col class="left" /><col class="left" />
</colgroup>
<thead>
<tr><th scope="col" class="left">env</th><th scope="col" class="left">default</th><th scope="col" class="left">comment</th></tr>
</thead>
<tbody>
<tr><td class="left">HEAP_PROFILE_ALLOCATION_INTERVAL</td><td class="left">default: 1073741824 (1 Gb)</td><td class="left">Dump heap profiling information each time the specified number of bytes has been allocated by the program.</td></tr>
<tr><td class="left">HEAP_PROFILE_INUSE_INTERVAL</td><td class="left">default: 104857600 (100 Mb)</td><td class="left">Dump heap profiling information whenever the high-water memory usage mark increases by the specified number of bytes.</td></tr>
<tr><td class="left">HEAP_PROFILE_TIME_INTERVAL</td><td class="left">default: 104857600 (100 Mb)</td><td class="left">Dump heap profiling information each time the specified number of seconds has elapsed.</td></tr>
<tr><td class="left">HEAP_PROFILE_MMAP</td><td class="left">default: false</td><td class="left">Profile mmap, mremap and sbrk calls in addition to malloc, calloc, realloc, and new.</td></tr>
<tr><td class="left">HEAP_PROFILE_ONLY_MMAP</td><td class="left">default: false</td><td class="left">Only profile mmap, mremap, and sbrk calls; do not profile malloc, calloc, realloc, or new.</td></tr>
<tr><td class="left">HEAP_PROFILE_MMAP_LOG</td><td class="left">default: false</td><td class="left">Log mmap/munmap calls.</td></tr>
</tbody>
</table>

HEAP_PROFILE_MMAP = NOTE: this causes the profiler to profile calls internal to tcmalloc, since tcmalloc and friends use mmap and sbrk internally for allocations. One partial solution is to filter these allocations out when running pprof, with something like pprof &ndash;ignore='DoAllocWithArena|SbrkSysAllocator::Alloc|MmapSysAllocator::Alloc.

<p>
输出会有一系列的profile文件比如
</p>


<pre class="example">/tmp/profile.0001.heap
/tmp/profile.0002.heap
...
/tmp/profile.0100.heap
</pre>

<p>
可以挑选其中一个来看.也可以挑选其中两个比如A,B, 将B作为base(&ndash;base=), 然后从A中减去B得到的profile. 
</p>
<p>
下面是一个图形输出样例
</p>
<p>
<img src="images/gperftools-heap-profiler-0.png"  alt="./images/gperftools-heap-profiler-0.png" />
</p>
<p>
A few explanations:
</p><ul>
<li>GFS_MasterChunk::AddServer accounts for 255.6 MB of the live memory, which is 25% of the total live memory.
</li>
<li>GFS_MasterChunkTable::UpdateState is directly accountable for 176.2 MB of the live memory (i.e., it directly allocated 176.2 MB that has not been freed yet). Furthermore, it and its callees are responsible for 729.9 MB. The labels on the outgoing edges give a good indication of the amount allocated by each callee.
</li>
</ul>


<p>
下面是一个文字输出样例
</p>


<pre class="example">% pprof --text gfs_master /tmp/profile.0100.heap
   255.6  24.7%  24.7%    255.6  24.7% GFS_MasterChunk::AddServer
   184.6  17.8%  42.5%    298.8  28.8% GFS_MasterChunkTable::Create
   176.2  17.0%  59.5%    729.9  70.5% GFS_MasterChunkTable::UpdateState
   169.8  16.4%  75.9%    169.8  16.4% PendingClone::PendingClone
    76.3   7.4%  83.3%     76.3   7.4% __default_alloc_template::_S_chunk_alloc
    49.5   4.8%  88.0%     49.5   4.8% hashtable::resize
   ...
</pre>

<ul>
<li>The first column contains the direct memory use in MB.
</li>
<li>The fourth column contains memory use by the procedure and all of its callees.
</li>
<li>The second and fifth columns are just percentage representations of the numbers in the first and fourth columns.
</li>
<li>The third column is a cumulative sum of the second column (i.e., the kth entry in the third column is the sum of the first k entries in the second column.)
</li>
</ul>


<p>
在Caveats小节里面有一些使用heap-profiler需要注意的问题，我觉得有两个需要比较重要：
</p><ul>
<li>If the program linked in a library that was not compiled with enough symbolic information, all samples associated with the library may be charged to the last symbol found in the program before the library. This will artificially inflate the count for that symbol.
</li>
<li>Several libraries, such as some STL implementations, do their own memory management. This may cause strange profiling results. We have code in libtcmalloc to cause STL to use tcmalloc for memory management (which in our tests is better than STL's internal management), though it only works for some STL implementations.
</li>
</ul>


</div>

</div>

<div id="outline-container-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> cpu profiler</h3>
<div class="outline-text-3" id="text-1-4">

<p><a href="http://gperftools.googlecode.com/svn/trunk/doc/cpuprofile.html">http://gperftools.googlecode.com/svn/trunk/doc/cpuprofile.html</a>
</p>
<p>
note(dirlt): 这个组件值得好好研究一下. 这里有profile文件输出格式 <a href="http://gperftools.googlecode.com/svn/trunk/doc/cpuprofile-fileformat.html">http://gperftools.googlecode.com/svn/trunk/doc/cpuprofile-fileformat.html</a> heap-profiler用的应该也是这个格式
</p>
<p>
有三种调用方式：
</p><ul>
<li>CPUPROFILE=&lt;profile-path&gt; ./a.out
</li>
<li>CPUPROFILE=&lt;profile-path&gt; CPUPROFILESIGNAL=12 ./a.out &amp; 然后使用kill -12 &lt;pid&gt;来启动profiler, 之后使用kill -12 &lt;pid&gt;来关闭profiler
</li>
<li>functions in &lt;gperftools/profiler.h&gt; (ProfilerStart, ProfilerStop etc)
</li>
</ul>

<p>可以通过环境变量 CPUPROFILE_FREQUENCY = x(default = 100) 来控制采样率。默认是100次/s.
</p>
<p>
最终展现方式有三种：1) text 2) graph 3) callgrind. 下面是文本输出例子
</p>


<pre class="example">14   2.1%  17.2%       58   8.7% std::_Rb_tree::find
</pre>

<p>
每个字段含义分别是：（其中第三个字段含义和heap-profiler文本输出中第三个字段含义是相同的）
</p><ul>
<li>Number of profiling samples in this function
</li>
<li>Percentage of profiling samples in this function
</li>
<li>Percentage of profiling samples in the functions printed so far
</li>
<li>Number of profiling samples in this function and its callees
</li>
<li>Percentage of profiling samples in this function and its callees
</li>
<li>Function name
</li>
</ul>


<p>
下面是图形输出例子
</p>
<p>
<img src="images/gperftools-cpu-profier-0.gif"  alt="./images/gperftools-cpu-profier-0.gif" />
</p>
<p>
每个节点的含义是：
</p><ul>
<li>Class Name
</li>
<li>Method Name
</li>
<li>local (percentage)
</li>
<li>of cumulative (percentage)
</li>
</ul>

<p>local/cum中数值是指采样到的次数。如果采样率是100的话，那么每次采样可以认为是0.01s. 这里有必要也看看header信息
</p>


<pre class="example">/tmp/profiler2_unittest
     Total samples: 202
     Focusing on: 202
     Dropped nodes with &lt;= 1 abs(samples)
     Dropped edges with &lt;= 0 samples
</pre>

<p>
说明采样202次，并且也全部展示出来(focus).丢弃采样&lt;=1的节点
</p>
<p>
最后一种是输出为callgrind格式，可以使用kcallgrind工具来查看
</p>


<pre class="example">% pprof --callgrind /bin/ls ls.prof &gt; ls.callgrind
% kcachegrind ls.callgrind
</pre>

<p>
The cost is specified in 'hits', i.e. how many times a function appears in the recorded call stack information. The 'calls' from function a to b record how many times function b was found in the stack traces directly below function a.
</p>
<p>
在Caveats小节里面有一些使用cpu-profiler需要注意的问题，我觉得有三个需要比较重要：
</p><ul>
<li>If the program exits because of a signal, the generated profile will be incomplete, and may perhaps be completely empty.
</li>
<li>The displayed graph may have disconnected regions because of the edge-dropping heuristics described above.
</li>
<li>If the program linked in a library that was not compiled with enough symbolic information, all samples associated with the library may be charged to the last symbol found in the program before the library. This will artificially inflate the count for that symbol.
</li>
</ul>


</div>

</div>

<div id="outline-container-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> google pprof</h3>
<div class="outline-text-3" id="text-1-5">

<p>heap-profiler以及cpu-profiler输出文件都需要pprof来查看.
</p>
<p>
pprof requires perl5 to be installed to run. It also requires dot to be installed for any of the graphical output routines, and gv to be installed for &ndash;gv mode (described below). Here are some ways to call pprof. These are described in more detail below.
</p>


<pre class="example">% pprof /bin/ls ls.prof
                       Enters "interactive" mode
% pprof --text /bin/ls ls.prof
                       Outputs one line per procedure
% pprof --gv /bin/ls ls.prof
                       Displays annotated call-graph via 'gv'
% pprof --gv --focus=Mutex /bin/ls ls.prof
                       Restricts to code paths including a .*Mutex.* entry
% pprof --gv --focus=Mutex --ignore=string /bin/ls ls.prof
                       Code paths including Mutex but not string
% pprof --list=getdir /bin/ls ls.prof
                       (Per-line) annotated source listing for getdir()
% pprof --disasm=getdir /bin/ls ls.prof
                       (Per-PC) annotated disassembly for getdir()
% pprof --text localhost:1234
                       Outputs one line per procedure for localhost:1234
% pprof --callgrind /bin/ls ls.prof
                       Outputs the call information in callgrind format
</pre>


<p>
输出格式选项 Output type:
</p><ol>
<li>&ndash;text     Produces a textual listing. (Note: If you have an X display, and dot and gv installed, you will probably be happier with the &ndash;gv output.)
</li>
<li>&ndash;gv       Generates annotated call-graph, converts to postscript, and displays via gv (requres dot and gv be installed).
</li>
<li>&ndash;dot      Generates the annotated call-graph in dot format and emits to stdout (requres dot be installed).
</li>
<li>&ndash;ps       Generates the annotated call-graph in Postscript format and emits to stdout (requres dot be installed).
</li>
<li>&ndash;pdf      Generates the annotated call-graph in PDF format and emits to stdout (requires dot and ps2pdf be installed).
</li>
<li>&ndash;gif      Generates the annotated call-graph in GIF format and emits to stdout (requres dot be installed).
</li>
<li>&ndash;list=&lt;regexp&gt;    Outputs source-code listing of routines whose name matches &lt;regexp&gt;. Each line in the listing is annotated with flat and cumulative sample counts. In the presence of inlined calls, the samples associated with inlined code tend to get assigned to a line that follows the location of the inlined call. A more precise accounting can be obtained by disassembling the routine using the &ndash;disasm flag.
</li>
<li>&ndash;disasm=&lt;regexp&gt;   Generates disassembly of routines that match &lt;regexp&gt;, annotated with flat and cumulative sample counts and emits to stdout.
</li>
</ol>




<pre class="example">Output type:
   --text              Generate text report
   --callgrind         Generate callgrind format to stdout
   --gv                Generate Postscript and display
   --evince            Generate PDF and display
   --web               Generate SVG and display
   --list=&lt;regexp&gt;     Generate source listing of matching routines
   --disasm=&lt;regexp&gt;   Generate disassembly of matching routines
   --symbols           Print demangled symbol names found at given addresses
   --dot               Generate DOT file to stdout
   --ps                Generate Postcript to stdout
   --pdf               Generate PDF to stdout
   --svg               Generate SVG to stdout
   --gif               Generate GIF to stdout
   --raw               Generate symbolized pprof data (useful with remote fetch)
</pre>


<p>
展现粒度选项 Reporting Granularity [函数级别粒度正好]
</p><ol>
<li>&ndash;addresses        Produce one node per program address.
</li>
<li>&ndash;lines    Produce one node per source line.
</li>
<li>&ndash;functions        Produce one node per function (this is the default).
</li>
<li>&ndash;files    Produce one node per source file.
</li>
</ol>


<p>
调用关系图选项. 可以选择只展示部分图. 其中focus/ignore可以选择只展示涉及到某个regexp的调用路径。
</p><ol>
<li>&ndash;nodecount=&lt;n&gt;    This option controls the number of displayed nodes. The nodes are first sorted by decreasing cumulative count, and then only the top N nodes are kept. The default value is 80.
</li>
<li>&ndash;nodefraction=&lt;f&gt;         This option provides another mechanism for discarding nodes from the display. If the cumulative count for a node is less than this option's value multiplied by the total count for the profile, the node is dropped. The default value is 0.005; i.e. nodes that account for less than half a percent of the total time are dropped. A node is dropped if either this condition is satisfied, or the &ndash;nodecount condition is satisfied.
</li>
<li>&ndash;edgefraction=&lt;f&gt;         This option controls the number of displayed edges. First of all, an edge is dropped if either its source or destination node is dropped. Otherwise, the edge is dropped if the sample count along the edge is less than this option's value multiplied by the total count for the profile. The default value is 0.001; i.e., edges that account for less than 0.1% of the total time are dropped.
</li>
<li>&ndash;focus=&lt;re&gt;       This option controls what region of the graph is displayed based on the regular expression supplied with the option. For any path in the callgraph, we check all nodes in the path against the supplied regular expression. If none of the nodes match, the path is dropped from the output.
</li>
<li>&ndash;ignore=&lt;re&gt;      This option controls what region of the graph is displayed based on the regular expression supplied with the option. For any path in the callgraph, we check all nodes in the path against the supplied regular expression. If any of the nodes match, the path is dropped from the output.
</li>
</ol>




<pre class="example">Call-graph Options:
   --nodecount=&lt;n&gt;     Show at most so many nodes [default=80]
   --nodefraction=&lt;f&gt;  Hide nodes below &lt;f&gt;*total [default=.005]
   --edgefraction=&lt;f&gt;  Hide edges below &lt;f&gt;*total [default=.001]
   --maxdegree=&lt;n&gt;     Max incoming/outgoing edges per node [default=8]
   --focus=&lt;regexp&gt;    Focus on nodes matching &lt;regexp&gt;
   --ignore=&lt;regexp&gt;   Ignore nodes matching &lt;regexp&gt;
   --scale=&lt;n&gt;         Set GV scaling [default=0]
   --heapcheck         Make nodes with non-0 object counts
                       (i.e. direct leak generators) more visible
</pre>


<p>
heap-profiler选项. 可以显示开辟/使用空间大小，也可以显示开辟/使用对象数量
</p>


<pre class="example">Heap-Profile Options:
   --inuse_space       Display in-use (mega)bytes [default]
   --inuse_objects     Display in-use objects
   --alloc_space       Display allocated (mega)bytes
   --alloc_objects     Display allocated objects
   --show_bytes        Display space in bytes
   --drop_negative     Ignore negative differences
</pre>

</div>
</div>
</div>
</div>

<div id="postamble">
<p class="date">Date: 2014-09-18T11:21+0800</p>
<p class="creator"><a href="http://orgmode.org">Org</a> version 7.9.3f with <a href="http://www.gnu.org/software/emacs/">Emacs</a> version 24</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>

</div>
<!-- Baidu Analytics BEGIN --><script type="text/javascript">var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F54a700ad7035f6e485eaf2300641e7e9' type='text/javascript'%3E%3C/script%3E"));</script><!-- Baidu Analytics END --><!-- Google Analytics BEGIN --><!-- <script type="text/javascript">  var _gaq = _gaq || [];  _gaq.push(['_setAccount', 'UA-31377772-1']);  _gaq.push(['_trackPageview']);  (function() {    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);  })();</script> --><!-- Google Analytics END --><!-- Baidu Button BEGIN --><!-- <script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=6762177" ></script><script type="text/javascript" id="bdshell_js"></script><script type="text/javascript"> document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000)</script> --><!-- Baidu Button END --><!-- G+ BEGIN --><!-- Place this render call where appropriate --><!-- <script type="text/javascript">  (function() {    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;    po.src = 'https://apis.google.com/js/plusone.js';    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);  })();</script> --><!-- G+ END --><!-- DISQUS BEGIN --><div id="disqus_thread"></div><script type="text/javascript">/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * *//* required: replace example with your forum shortname  */var disqus_shortname = 'dirlt';var disqus_identifier = 'gperftools.html';var disqus_title = 'gperftools.html';var disqus_url = 'http://dirlt.com/gperftools.html';/* * * DON'T EDIT BELOW THIS LINE * * */(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a><!-- DISQUS END --></body>
</html>
